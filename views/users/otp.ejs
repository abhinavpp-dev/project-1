<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>OTP Verification</title>
  <link rel="stylesheet" href="/css/otp.css">
</head>
<body>
  <%- include('../partials/msg') %>
 <div class="container" id="otp-container">
    <div class="form-container">
      <form action="/verify-otp" method="post">
        <h1>OTP Verification</h1>
        <p>Enter the 6-digit code sent to your email.</p>
        
        <!-- Hidden input to include userId -->
        <input type="hidden" name="userId" value="<%= userId %>">

        <!-- OTP Input Fields -->
        <div class="otp-input-container">
          <input type="text" name="otp[0]" maxlength="1" required oninput="moveFocus(this, 1)" onkeydown="handleBackspace(event, this, 0)" />
          <input type="text" name="otp[1]" maxlength="1" required oninput="moveFocus(this, 2)" onkeydown="handleBackspace(event, this, 1)" />
          <input type="text" name="otp[2]" maxlength="1" required oninput="moveFocus(this, 3)" onkeydown="handleBackspace(event, this, 2)" />
          <input type="text" name="otp[3]" maxlength="1" required oninput="moveFocus(this, 4)" onkeydown="handleBackspace(event, this, 3)" />
          <input type="text" name="otp[4]" maxlength="1" required oninput="moveFocus(this, 5)" onkeydown="handleBackspace(event, this, 4)" />
          <input type="text" name="otp[5]" maxlength="1" required oninput="moveFocus(this, 6)" onkeydown="handleBackspace(event, this, 5)" />
        </div>

        <button type="submit">Verify OTP</button>
        <p class="resend">Didn't receive the code? <a href="/resend-otp">Resend OTP</a></p>
      </form>
    </div>
  </div>

  <!-- Link to the external JavaScript file -->
  <script src="/libs/jquery/jquery.min.js"></script>
  <script src="/libs/toastr/toastr.min.js"></script>
  <script src="/js/otp.js"></script>
</body>
</html>
